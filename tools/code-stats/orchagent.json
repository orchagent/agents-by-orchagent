{
  "name": "code-stats",
  "type": "code",
  "description": "Analyzes code quality: line counts, function detection, cyclomatic complexity scoring, and warnings. Respects .gitignore and skips build artifacts. Supports Python, JavaScript/TypeScript, Go, and Rust.",
  "supported_providers": ["any"],
  "tags": ["code-quality", "metrics", "analysis"],
  "entrypoint": "main.py",
  "input_schema": {
    "type": "object",
    "properties": {
      "path": {
        "type": "string",
        "description": "Local directory path to scan for code files"
      },
      "files": {
        "type": "array",
        "description": "Source code files to analyze",
        "accepts_files": true,
        "accept": [".py", ".js", ".ts", ".tsx", ".jsx", ".go", ".rs"],
        "max_files": 20
      },
      "code": {
        "type": "string",
        "description": "Raw code string to analyze"
      },
      "metadata": {
        "type": "object",
        "properties": {
          "max_file_lines": {"type": "integer", "default": 300},
          "max_function_lines": {"type": "integer", "default": 50},
          "max_complexity": {"type": "integer", "default": 10}
        }
      },
      "summary": {
        "type": "boolean",
        "default": false,
        "description": "If true, return only aggregate totals without per-file breakdown (reduces output size)"
      }
    }
  }
}
